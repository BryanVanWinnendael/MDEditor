import{a as h,b as L,g as O,d as c,i as o,c as e,e as q,s as A,t as B,S as d,f as G,M as w,h as H}from"./web.BDtHqAq6.js";import{r as I,E as p,a}from"./Error.Gc8dpx_X.js";const J=B('<form class="grid grid-cols-1 gap-3 w-full"><div class="grid grid-cols-1 gap-2"><label for=email class="font-medium text-zinc-300 text-sm">Email</label><input type=text id=email name=email class="rounded-md py-1 px-3 bg-zinc-800 text-zinc-300 border border-zinc-700 focus:border-[#6488ea] focus:outline-none focus:ring-2 focus:ring-[#6488ea] focus:bg-zinc-900 focus:ring-opacity-60"><!$><!/></div><div class="grid grid-cols-1 gap-2"><label for=password class="font-medium text-zinc-300 text-sm">Password</label><input type=password id=password name=password class="rounded-md py-1 px-3 bg-zinc-800 text-zinc-300 border border-zinc-700 focus:border-[#6488ea] focus:outline-none focus:ring-2 focus:ring-[#6488ea] focus:bg-zinc-900 focus:ring-opacity-60"><!$><!/></div><div class="grid grid-cols-1 gap-2"><label for=confirmPassword class="font-medium text-zinc-300 text-sm">Confirm password</label><input type=password id=confirmPassword name=confirmPassword class="rounded-md py-1 px-3 bg-zinc-800 text-zinc-300 border border-zinc-700 focus:border-[#6488ea] focus:outline-none focus:ring-2 focus:ring-[#6488ea] focus:bg-zinc-900 focus:ring-opacity-60"><!$><!/></div><button class="bg-zinc-100 py-1.5 border border-zinc-100 rounded-md mt-2 text-black font-medium text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#6488ea] focus:ring-offset-zinc-900"type=submit></button><!$><!/>'),K=async g=>{const t=await fetch("/api/auth/register.json",{method:"POST",body:g});if(!t.ok)return await t.json();t.redirected&&window.location.assign(t.url)},V=()=>{const[g,t]=h(),[n]=L(g,K),[s,x]=h(),$=r=>{r.preventDefault(),x();const i=new FormData(r.currentTarget),l=I.safeParse(i);if(!l.success){const u=l.error.flatten();x(u);return}t(i)};return(()=>{const r=O(J),i=r.firstChild,l=i.firstChild,u=l.nextSibling,S=u.nextSibling,[_,z]=c(S.nextSibling),f=i.nextSibling,y=f.firstChild,E=y.nextSibling,P=E.nextSibling,[v,k]=c(P.nextSibling),m=f.nextSibling,C=m.firstChild,D=C.nextSibling,F=D.nextSibling,[M,T]=c(F.nextSibling),b=m.nextSibling,j=b.nextSibling,[N,R]=c(j.nextSibling);return r.addEventListener("submit",$),o(i,e(d,{get when(){return s()?.fieldErrors.email},get fallback(){return e(p,{})},get children(){return e(a,{get message(){return s()?.fieldErrors.email}})}}),_,z),o(f,e(d,{get when(){return s()?.fieldErrors.password},get fallback(){return e(p,{})},get children(){return e(a,{get message(){return s()?.fieldErrors.password}})}}),v,k),o(m,e(d,{get when(){return s()?.fieldErrors.confirmPassword},get fallback(){return e(p,{})},get children(){return e(a,{get message(){return s()?.fieldErrors.confirmPassword}})}}),M,T),o(b,e(d,{fallback:"Sign up",get when(){return n.loading},children:"Signing up..."})),o(r,e(H,{get children(){return e(G,{get children(){return[e(w,{get when(){return n()?.error==="auth/email-already-exists"},get children(){return e(a,{message:"The email address is already in use by another account"})}}),e(w,{get when(){return n()?.error},get children(){return e(a,{get message(){return n().error}})}})]}})}}),N,R),q(()=>A(b,"disabled",n.loading)),r})()};export{V as default};
