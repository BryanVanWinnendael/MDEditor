import{j as e}from"./jsx-runtime.VXu5Enc-.js";import{r as c}from"./index.kdcK0Z_5.js";import{E as o,a as t,t as p}from"./Error.48P-_V8x.js";const j=async s=>{const a=await fetch("/api/theme/request",{method:"POST",body:s});if(!a.ok)return await a.json();a.redirected&&window.location.assign(a.url)},y=()=>{const[s,a]=c.useState(null),[l,n]=c.useState(!1),[r,i]=c.useState(null),f=async d=>{d.preventDefault(),i(null);const m=new FormData(d.currentTarget),u=p.safeParse(Object.fromEntries(m.entries()));if(!u.success){const g=u.error.flatten();i(g);return}n(!0);const x=await j(m);a(x),n(!1)};return e.jsxs("form",{className:"grid grid-cols-1 gap-3 w-full",onSubmit:f,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("label",{htmlFor:"name",className:"font-medium text-zinc-300 text-sm",children:"Theme name"}),e.jsx("input",{type:"text",id:"name",name:"name",className:"rounded-md py-1 px-3 bg-zinc-800 text-zinc-300 border border-zinc-700 focus:border-[#6488ea] focus:outline-none focus:ring-2 focus:ring-[#6488ea] focus:bg-zinc-900 focus:ring-opacity-60"}),r?.fieldErrors?.name?e.jsx(o,{message:r.fieldErrors.name}):e.jsx(t,{})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("label",{htmlFor:"backgroundColor",className:"font-medium text-zinc-300 text-sm",children:"Background color"}),e.jsx("input",{name:"backgroundColor",type:"color",id:"backgroundColor",defaultValue:"#1B1B1D",className:"color-picker w-12 h-12"}),r?.fieldErrors?.backgroundColor?e.jsx(o,{message:r.fieldErrors.backgroundColor}):e.jsx(t,{})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("label",{htmlFor:"secondaryBackgroundColor",className:"font-medium text-zinc-300 text-sm",children:"Secondary background color"}),e.jsx("input",{name:"secondaryBackgroundColor",type:"color",id:"secondaryBackgroundColor",defaultValue:"#2C2C2E",className:"color-picker w-12 h-12"}),r?.fieldErrors?.secondaryBackgroundColor?e.jsx(o,{message:r.fieldErrors.secondaryBackgroundColor}):e.jsx(t,{})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("label",{htmlFor:"textColor",className:"font-medium text-zinc-300 text-sm",children:"Text color"}),e.jsx("input",{name:"textColor",type:"color",id:"textColor",defaultValue:"#ffffff",className:"color-picker w-12 h-12"}),r?.fieldErrors?.textColor?e.jsx(o,{message:r.fieldErrors.textColor}):e.jsx(t,{})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("label",{htmlFor:"iconColor",className:"font-medium text-zinc-300 text-sm",children:"Icon color"}),e.jsx("input",{name:"iconColor",type:"color",id:"iconColor",defaultValue:"#ffffff",className:"color-picker w-12 h-12"}),r?.fieldErrors?.iconColor?e.jsx(o,{message:r.fieldErrors.iconColor}):e.jsx(t,{})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx("label",{htmlFor:"accentColor",className:"font-medium text-zinc-300 text-sm",children:"Accent color"}),e.jsx("input",{name:"accentColor",type:"color",id:"accentColor",defaultValue:"#6488ea",className:"color-picker w-12 h-12 border-1 border-[#6488ea]"}),r?.fieldErrors?.accentColor?e.jsx(o,{message:r.fieldErrors.accentColor}):e.jsx(t,{})]})]}),e.jsx("button",{className:"bg-zinc-100 py-1.5 border border-zinc-100 rounded-md mt-2 text-black font-medium text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-600 focus:ring-offset-zinc-900",type:"submit",disabled:l,children:l?"Uploading request...":"Request theme"}),s&&e.jsxs(e.Fragment,{children:[s.error&&e.jsx(o,{message:s.error}),s.error==="auth/email-already-exists"&&e.jsx(o,{message:"The email address is already in use by another account"})]})]})};export{y as default};
