const u={context:void 0,registry:void 0};function F(e){u.context=e}function ve(){return{...u.context,id:`${u.context.id}${u.context.count++}-`,count:0}}const Ce=(e,n)=>e===n,Ee=Symbol("solid-track"),U={equals:Ce};let $e=pe;const P=1,D=2,le={owned:null,cleanups:null,context:null,owner:null},Z={};var d=null;let O=null,y=null,S=null,H=null,W=0;function _(e,n){const t=y,s=d,i=e.length===0,r=n===void 0?s:n,l=i?le:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=i?e:()=>e(()=>E(()=>Q(l)));d=l,y=null;try{return j(o,!0)}finally{y=t,d=s}}function L(e,n){n=n?Object.assign({},U,n):U;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},s=i=>(typeof i=="function"&&(i=i(t.value)),he(t,i));return[de.bind(t),s]}function ne(e,n,t){const s=te(e,n,!0,P);V(s)}function R(e,n,t){const s=te(e,n,!1,P);V(s)}function N(e,n,t){t=t?Object.assign({},U,t):U;const s=te(e,n,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=t.equals||void 0,V(s),de.bind(s)}function ke(e){return e&&typeof e=="object"&&"then"in e}function Re(e,n,t){let s,i,r;arguments.length===2&&typeof n=="object"||arguments.length===1?(s=!0,i=e,r=n||{}):(s=e,i=n,r=t||{});let l=null,o=Z,c=null,a=!1,f=!1,x="initialValue"in r,h=typeof s=="function"&&N(s);const g=new Set,[m,v]=(r.storage||L)(r.initialValue),[$,T]=L(void 0),[b,C]=L(void 0,{equals:!1}),[k,q]=L(x?"ready":"unresolved");if(u.context){c=`${u.context.id}${u.context.count++}`;let p;r.ssrLoadFrom==="initial"?o=r.initialValue:u.load&&(p=u.load(c))&&(o=p)}function M(p,w,A,I){return l===p&&(l=null,I!==void 0&&(x=!0),(p===o||w===o)&&r.onHydrated&&queueMicrotask(()=>r.onHydrated(I,{value:w})),o=Z,Se(w,A)),w}function Se(p,w){j(()=>{w===void 0&&v(()=>p),q(w!==void 0?"errored":x?"ready":"unresolved"),T(w);for(const A of g.keys())A.decrement();g.clear()},!1)}function X(){const p=Y&&ce(Y),w=m(),A=$();if(A!==void 0&&!l)throw A;return y&&!y.user&&p&&ne(()=>{b(),l&&(p.resolved&&O&&a?O.promises.add(l):g.has(p)||(p.increment(),g.add(p)))}),w}function J(p=!0){if(p!==!1&&f)return;f=!1;const w=h?h():s;if(a=O,w==null||w===!1){M(l,E(m));return}const A=o!==Z?o:E(()=>i(w,{value:m(),refetching:p}));return ke(A)?(l=A,"value"in A?(A.status==="success"?M(l,A.value,void 0,w):M(l,void 0,void 0,w),A):(f=!0,queueMicrotask(()=>f=!1),j(()=>{q(x?"refreshing":"pending"),C()},!1),A.then(I=>M(A,I,void 0,w),I=>M(A,void 0,we(I),w)))):(M(l,A,void 0,w),A)}return Object.defineProperties(X,{state:{get:()=>k()},error:{get:()=>$()},loading:{get(){const p=k();return p==="pending"||p==="refreshing"}},latest:{get(){if(!x)return X();const p=$();if(p&&!l)throw p;return m()}}}),h?ne(()=>J(!1)):J(!1),[X,{refetch:J,mutate:v}]}function E(e){if(y===null)return e();const n=y;y=null;try{return e()}finally{y=n}}function fe(e){return d===null||(d.cleanups===null?d.cleanups=[e]:d.cleanups.push(e)),e}function Te(){return d}function Ne(e){H.push.apply(H,e),e.length=0}function ue(e,n){const t=Symbol("context");return{id:t,Provider:Pe(t),defaultValue:e}}function ce(e){return d&&d.context&&d.context[e.id]!==void 0?d.context[e.id]:e.defaultValue}function ae(e){const n=N(e),t=N(()=>z(n()));return t.toArray=()=>{const s=t();return Array.isArray(s)?s:s!=null?[s]:[]},t}let Y;function qe(){return Y||(Y=ue())}function de(){if(this.sources&&this.state)if(this.state===P)V(this);else{const e=S;S=null,j(()=>K(this),!1),S=e}if(y){const e=this.observers?this.observers.length:0;y.sources?(y.sources.push(this),y.sourceSlots.push(e)):(y.sources=[this],y.sourceSlots=[e]),this.observers?(this.observers.push(y),this.observerSlots.push(y.sources.length-1)):(this.observers=[y],this.observerSlots=[y.sources.length-1])}return this.value}function he(e,n,t){let s=e.value;return(!e.comparator||!e.comparator(s,n))&&(e.value=n,e.observers&&e.observers.length&&j(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],l=O&&O.running;l&&O.disposed.has(r),(l?!r.tState:!r.state)&&(r.pure?S.push(r):H.push(r),r.observers&&ye(r)),l||(r.state=P)}if(S.length>1e6)throw S=[],new Error},!1)),n}function V(e){if(!e.fn)return;Q(e);const n=W;He(e,e.value,n)}function He(e,n,t){let s;const i=d,r=y;y=d=e;try{s=e.fn(n)}catch(l){return e.pure&&(e.state=P,e.owned&&e.owned.forEach(Q),e.owned=null),e.updatedAt=t+1,xe(l)}finally{y=r,d=i}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?he(e,s):e.value=s,e.updatedAt=t)}function te(e,n,t,s=P,i){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:d,context:d?d.context:null,pure:t};return d===null||d!==le&&(d.owned?d.owned.push(r):d.owned=[r]),r}function ge(e){if(e.state===0)return;if(e.state===D)return K(e);if(e.suspense&&E(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<W);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===P)V(e);else if(e.state===D){const s=S;S=null,j(()=>K(e,n[0]),!1),S=s}}function j(e,n){if(S)return e();let t=!1;n||(S=[]),H?t=!0:H=[],W++;try{const s=e();return Me(t),s}catch(s){t||(H=null),S=null,xe(s)}}function Me(e){if(S&&(pe(S),S=null),e)return;const n=H;H=null,n.length&&j(()=>$e(n),!1)}function pe(e){for(let n=0;n<e.length;n++)ge(e[n])}function K(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const s=e.sources[t];if(s.sources){const i=s.state;i===P?s!==n&&(!s.updatedAt||s.updatedAt<W)&&ge(s):i===D&&K(s,n)}}}function ye(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=D,t.pure?S.push(t):H.push(t),t.observers&&ye(t))}}function Q(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),s=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){const r=i.pop(),l=t.observerSlots.pop();s<i.length&&(r.sourceSlots[l]=s,i[s]=r,t.observerSlots[s]=l)}}if(e.owned){for(n=e.owned.length-1;n>=0;n--)Q(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function we(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function xe(e,n=d){throw we(e)}function z(e){if(typeof e=="function"&&!e.length)return z(e());if(Array.isArray(e)){const n=[];for(let t=0;t<e.length;t++){const s=z(e[t]);Array.isArray(s)?n.push.apply(n,s):n.push(s)}return n}return e}function Pe(e,n){return function(s){let i;return R(()=>i=E(()=>(d.context={...d.context,[e]:s.value},ae(()=>s.children))),void 0),i}}const Le=Symbol("fallback");function se(e){for(let n=0;n<e.length;n++)e[n]()}function je(e,n,t={}){let s=[],i=[],r=[],l=0,o=n.length>1?[]:null;return fe(()=>se(r)),()=>{let c=e()||[],a,f;return c[Ee],E(()=>{let h=c.length,g,m,v,$,T,b,C,k,q;if(h===0)l!==0&&(se(r),r=[],s=[],i=[],l=0,o&&(o=[])),t.fallback&&(s=[Le],i[0]=_(M=>(r[0]=M,t.fallback())),l=1);else if(l===0){for(i=new Array(h),f=0;f<h;f++)s[f]=c[f],i[f]=_(x);l=h}else{for(v=new Array(h),$=new Array(h),o&&(T=new Array(h)),b=0,C=Math.min(l,h);b<C&&s[b]===c[b];b++);for(C=l-1,k=h-1;C>=b&&k>=b&&s[C]===c[k];C--,k--)v[k]=i[C],$[k]=r[C],o&&(T[k]=o[C]);for(g=new Map,m=new Array(k+1),f=k;f>=b;f--)q=c[f],a=g.get(q),m[f]=a===void 0?-1:a,g.set(q,f);for(a=b;a<=C;a++)q=s[a],f=g.get(q),f!==void 0&&f!==-1?(v[f]=i[a],$[f]=r[a],o&&(T[f]=o[a]),f=m[f],g.set(q,f)):r[a]();for(f=b;f<h;f++)f in v?(i[f]=v[f],r[f]=$[f],o&&(o[f]=T[f],o[f](f))):i[f]=_(x);i=i.slice(0,l=h),s=c.slice(0)}return i});function x(h){if(r[f]=h,o){const[g,m]=L(f);return o[f]=m,n(c[f],g)}return n(c[f])}}}let be=!1;function Ie(){be=!0}function Be(e,n){if(be&&u.context){const t=u.context;F(ve());const s=E(()=>e(n||{}));return F(t),s}return E(()=>e(n||{}))}const Ae=e=>`Stale read from <${e}>.`;function Ye(e){const n="fallback"in e&&{fallback:()=>e.fallback};return N(je(()=>e.each,e.children,n||void 0))}function Ke(e){const n=e.keyed,t=N(()=>e.when,void 0,{equals:(s,i)=>n?s===i:!s==!i});return N(()=>{const s=t();if(s){const i=e.children;return typeof i=="function"&&i.length>0?E(()=>i(n?s:()=>{if(!E(t))throw Ae("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Ge(e){let n=!1;const t=(r,l)=>r[0]===l[0]&&(n?r[1]===l[1]:!r[1]==!l[1])&&r[2]===l[2],s=ae(()=>e.children),i=N(()=>{let r=s();Array.isArray(r)||(r=[r]);for(let l=0;l<r.length;l++){const o=r[l].when;if(o)return n=!!r[l].keyed,[l,o,r[l]]}return[-1]},void 0,{equals:t});return N(()=>{const[r,l,o]=i();if(r<0)return e.fallback;const c=o.children;return typeof c=="function"&&c.length>0?E(()=>c(n?l:()=>{if(E(i)[0]!==r)throw Ae("Match");return o.when})):c},void 0,void 0)}function We(e){return e}const Fe=ue();function Qe(e){let n=0,t,s,i,r,l;const[o,c]=L(!1),a=qe(),f={increment:()=>{++n===1&&c(!0)},decrement:()=>{--n===0&&c(!1)},inFallback:o,effects:[],resolved:!1},x=Te();if(u.context&&u.load){const m=u.context.id+u.context.count;let v=u.load(m);if(v&&(typeof v!="object"||v.status!=="success")&&(i=v),i&&i!=="$$f"){const[$,T]=L(void 0,{equals:!1});r=$,i.then(()=>{u.gather(m),F(s),T(),F()}).catch(b=>{if(b||u.done)return b&&(l=b),T()})}}const h=ce(Fe);h&&(t=h.register(f.inFallback));let g;return fe(()=>g&&g()),Be(a.Provider,{value:f,get children(){return N(()=>{if(l)throw l;if(s=u.context,r)return r(),r=void 0;s&&i==="$$f"&&F();const m=N(()=>e.children);return N(v=>{const $=f.inFallback(),{showContent:T=!0,showFallback:b=!0}=t?t():{};if((!$||i&&i!=="$$f")&&T)return f.resolved=!0,g&&g(),g=s=i=void 0,Ne(f.effects),m();if(b)return g?v:_(C=>(g=C,s&&(F({id:s.id+"f",count:0}),s=void 0),e.fallback),x)})})}})}function Oe(e,n,t){let s=t.length,i=n.length,r=s,l=0,o=0,c=n[i-1].nextSibling,a=null;for(;l<i||o<r;){if(n[l]===t[o]){l++,o++;continue}for(;n[i-1]===t[r-1];)i--,r--;if(i===l){const f=r<s?o?t[o-1].nextSibling:t[r-o]:c;for(;o<r;)e.insertBefore(t[o++],f)}else if(r===o)for(;l<i;)(!a||!a.has(n[l]))&&n[l].remove(),l++;else if(n[l]===t[r-1]&&t[o]===n[i-1]){const f=n[--i].nextSibling;e.insertBefore(t[o++],n[l++].nextSibling),e.insertBefore(t[--r],f),n[i]=t[r]}else{if(!a){a=new Map;let x=o;for(;x<r;)a.set(t[x],x++)}const f=a.get(n[l]);if(f!=null)if(o<f&&f<r){let x=l,h=1,g;for(;++x<i&&x<r&&!((g=a.get(n[x]))==null||g!==f+h);)h++;if(h>f-o){const m=n[l];for(;o<f;)e.insertBefore(t[o++],m)}else e.replaceChild(t[o++],n[l++])}else l++;else n[l++].remove()}}}const ie="_$DX_DELEGATE";function _e(e,n,t,s={}){let i;return _(r=>{i=r,n===document?e():Ve(n,e(),n.firstChild?null:void 0,t)},s.owner),()=>{i(),n.textContent=""}}function Xe(e,n,t){let s;const i=()=>{const l=document.createElement("template");return l.innerHTML=e,t?l.content.firstChild.firstChild:l.content.firstChild},r=n?()=>E(()=>document.importNode(s||(s=i()),!0)):()=>(s||(s=i())).cloneNode(!0);return r.cloneNode=r,r}function Je(e,n=window.document){const t=n[ie]||(n[ie]=new Set);for(let s=0,i=e.length;s<i;s++){const r=e[s];t.has(r)||(t.add(r),n.addEventListener(r,me))}}function Ze(e,n,t){!u.context&&(e[n]=t)}function ze(e,n,t){u.context||(t==null?e.removeAttribute(n):e.setAttribute(n,t))}function Ve(e,n,t,s){if(t!==void 0&&!s&&(s=[]),typeof n!="function")return G(e,n,s,t);R(i=>G(e,n(),i,t),s)}function Ue(e,n,t={}){u.completed=globalThis._$HY.completed,u.events=globalThis._$HY.events,u.load=i=>globalThis._$HY.r[i],u.has=i=>i in globalThis._$HY.r,u.gather=i=>oe(n,i),u.registry=new Map,u.context={id:t.renderId||"",count:0},oe(n,t.renderId);const s=_e(e,n,[...n.childNodes],t);return u.context=null,s}function et(e){let n,t;return!u.context||!(n=u.registry.get(t=De()))?e():(u.completed&&u.completed.add(n),u.registry.delete(t),n)}function tt(e){let n=e,t=0,s=[];if(u.context)for(;n;){if(n.nodeType===8){const i=n.nodeValue;if(i==="$")t++;else if(i==="/"){if(t===0)return[n,s];t--}}s.push(n),n=n.nextSibling}return[n,s]}function nt(){u.events&&!u.events.queued&&(queueMicrotask(()=>{const{completed:e,events:n}=u;for(n.queued=!1;n.length;){const[t,s]=n[0];if(!e.has(t))return;me(s),n.shift()}}),u.events.queued=!0)}function me(e){const n=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),u.registry&&!u.done&&(u.done=_$HY.done=!0);t;){const s=t[n];if(s&&!t.disabled){const i=t[`${n}Data`];if(i!==void 0?s.call(t,i,e):s.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function G(e,n,t,s,i){if(u.context){!t&&(t=[...e.childNodes]);let o=[];for(let c=0;c<t.length;c++){const a=t[c];a.nodeType===8&&a.data.slice(0,2)==="!$"?a.remove():o.push(a)}t=o}for(;typeof t=="function";)t=t();if(n===t)return t;const r=typeof n,l=s!==void 0;if(e=l&&t[0]&&t[0].parentNode||e,r==="string"||r==="number"){if(u.context)return t;if(r==="number"&&(n=n.toString()),l){let o=t[0];o&&o.nodeType===3?o.data=n:o=document.createTextNode(n),t=B(e,t,s,o)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||r==="boolean"){if(u.context)return t;t=B(e,t,s)}else{if(r==="function")return R(()=>{let o=n();for(;typeof o=="function";)o=o();t=G(e,o,t,s)}),()=>t;if(Array.isArray(n)){const o=[],c=t&&Array.isArray(t);if(ee(o,n,t,i))return R(()=>t=G(e,o,t,s,!0)),()=>t;if(u.context){if(!o.length)return t;if(s===void 0)return[...e.childNodes];let a=o[0],f=[a];for(;(a=a.nextSibling)!==s;)f.push(a);return t=f}if(o.length===0){if(t=B(e,t,s),l)return t}else c?t.length===0?re(e,o,s):Oe(e,t,o):(t&&B(e),re(e,o));t=o}else if(n.nodeType){if(u.context&&n.parentNode)return t=l?[n]:n;if(Array.isArray(t)){if(l)return t=B(e,t,s,n);B(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function ee(e,n,t,s){let i=!1;for(let r=0,l=n.length;r<l;r++){let o=n[r],c=t&&t[r],a;if(!(o==null||o===!0||o===!1))if((a=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=ee(e,o,c)||i;else if(a==="function")if(s){for(;typeof o=="function";)o=o();i=ee(e,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||i}else e.push(o),i=!0;else{const f=String(o);c&&c.nodeType===3&&c.data===f?e.push(c):e.push(document.createTextNode(f))}}return i}function re(e,n,t=null){for(let s=0,i=n.length;s<i;s++)e.insertBefore(n[s],t)}function B(e,n,t,s){if(t===void 0)return e.textContent="";const i=s||document.createTextNode("");if(n.length){let r=!1;for(let l=n.length-1;l>=0;l--){const o=n[l];if(i!==o){const c=o.parentNode===e;!r&&!l?c?e.replaceChild(i,o):e.insertBefore(i,t):c&&o.remove()}else r=!0}}else e.insertBefore(i,t);return[i]}function oe(e,n){const t=e.querySelectorAll("*[data-hk]");for(let s=0;s<t.length;s++){const i=t[s],r=i.getAttribute("data-hk");(!n||r.startsWith(n))&&!u.registry.has(r)&&u.registry.set(r,i)}}function De(){const e=u.context;return`${e.id}${e.count++}`}const st=(...e)=>(Ie(),Ue(...e));export{Ye as F,We as M,Ke as S,L as a,Re as b,Be as c,tt as d,R as e,Ge as f,et as g,Qe as h,Ve as i,Je as j,N as k,ze as l,_e as m,st as n,nt as r,Ze as s,Xe as t};
